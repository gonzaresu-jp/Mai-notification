<!doctype html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>テスト通知</title>
    <link rel="icon" href="/pushweb/icon.ico">
    <link rel="stylesheet" href="/pushweb/style.css" />
</head>
<body id="app-body">
    <header>
        <div class="header-left">
            <h2>テスト完了！</h2>
        </div>
        <nav id="nav-menu" aria-label="メインメニュー"></nav>
        <div id="menu-overlay" style="position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 999; display: none;"></div>
    </header>

    <main style="padding-right: 0; padding-left: 0;">
        <div id="animation-container" style="display: flex; justify-content: flex-end; align-items: flex-start;">
            <!-- ここに Lottie または Video が入ります -->
        </div>

        <a href="https://elza.poitou-mora.ts.net/pushweb/" 
           style="text-decoration:none; color:inherit; display:block;">
            <div style="
                background-color:#FFF;
                margin:40px;
                min-height:60px;
                display:flex;
                align-items:center;
                justify-content:center;
                padding:10px 20px;">
                <h3 style="margin:0;">通知ダッシュボードに戻る</h3>
            </div>
        </a>
    </main>

    <footer>
        <p>Mai's Platform</p>
        <div class="footer-links">
            <a href="https://www.youtube.com/@koinoyamaich" target="_blank" rel="noopener noreferrer">YouTube(main)</a> |
            <a href="https://www.youtube.com/@koinoyamaich" target="_blank" rel="noopener noreferrer">YouTube(sub)</a> |
            <a href="https://x.com/koinoya_mai" target="_blank" rel="noopener noreferrer">X (Twitter)</a> |
            <a href="https://www.fanbox.cc/@koinoya-mai" target="_blank" rel="noopener noreferrer">Pixiv Fanbox</a> |
            <a href="https://twitcasting.tv/c:koinoya_mai" target="_blank" rel="noopener noreferrer">TwitCasting</a>
        </div>
    </footer>

    <script src="/pushweb/main.js"></script>

    <!-- Lottie Web Component -->
<script type="module">
import 'https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js';

window.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('animation-container');

    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                  (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);

    if(0){
        const c = 186/403;

function setLottieSize() {
    const h_monitor = window.innerHeight;
    const w_monitor = window.innerWidth;

    let h_mov = h_monitor * 0.9;
    let w_mov = h_mov * c;

    let mv;
    if(w_monitor >= 1200){
        mv = (1200 - w_mov) / 2; // 右詰め余白計算
    } else {
        mv = (w_monitor - w_mov) / 2;
    }

    lottieEl.style.width = 'auto';
    lottieEl.style.height = `${h_mov}px`;
    lottieEl.style.left = `${mv}px`;
    lottieEl.style.top = `${(h_monitor - h_mov)/2}px`; // 縦中央寄せ
}


        const lottieEl = document.createElement('dotlottie-wc');
        lottieEl.src = "/pushweb/maishow.json";
        lottieEl.autoplay = true;
        lottieEl.loop = true;
        container.appendChild(lottieEl);

        setLottieSize();
        window.addEventListener('resize', setLottieSize);
    } else {
        const videoEl = document.createElement('video');
        videoEl.src = "showmai.webm";
        videoEl.autoplay = true;
        videoEl.muted = true;
        videoEl.playsInline = true;
        videoEl.loop = true;
        videoEl.style.width = "auto";
        videoEl.style.height = "90vh";
        container.appendChild(videoEl);
    }
});
</script>
</body>
</html>
